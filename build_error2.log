   Compiling triage-rs v0.1.0 (/Users/mago/treecl_beam)
error: expected expression, found keyword `mut`
    --> src/primitives.rs:1665:36
     |
1665 |         let result = prim_add(&mut mut mut mut mut mut mut mut proc, &globals, &[a, b, c]).unwrap();
     |                                    ^^^ expected expression

error: expected expression, found keyword `mut`
    --> src/primitives.rs:1678:35
     |
1678 |         let cell = prim_cons(&mut mut mut mut mut mut mut mut proc, &globals, &[a, b]).unwrap();
     |                                   ^^^ expected expression

error: expected expression, found keyword `mut`
    --> src/primitives.rs:1679:33
     |
1679 |         let car = prim_car(&mut mut mut mut mut mut mut mut proc, &globals, &[cell]).unwrap();
     |                                 ^^^ expected expression

error: expected expression, found keyword `mut`
    --> src/primitives.rs:1680:33
     |
1680 |         let cdr = prim_cdr(&mut mut mut mut mut mut mut mut proc, &globals, &[cell]).unwrap();
     |                                 ^^^ expected expression

error: expected expression, found keyword `mut`
    --> src/primitives.rs:1694:36
     |
1694 |         let len = prim_length(&mut mut mut mut mut mut mut mut proc, &globals, &[list]).unwrap();
     |                                    ^^^ expected expression

error: expected expression, found keyword `mut`
    --> src/primitives.rs:1706:36
     |
1706 |         let result = prim_add(&mut mut mut mut mut mut mut mut proc, &globals, &[]).unwrap();
     |                                    ^^^ expected expression

error: expected expression, found keyword `mut`
    --> src/primitives.rs:1717:36
     |
1717 |         let result = prim_add(&mut mut mut mut mut mut mut mut proc, &globals, &[a]).unwrap();
     |                                    ^^^ expected expression

error: expected expression, found keyword `mut`
    --> src/primitives.rs:1728:36
     |
1728 |         let result = prim_add(&mut mut mut mut mut mut mut mut proc, &globals, &nums).unwrap();
     |                                    ^^^ expected expression

error: expected expression, found keyword `mut`
    --> src/primitives.rs:1739:36
     |
1739 |         let result = prim_sub(&mut mut mut mut mut mut mut mut proc, &globals, &[a]).unwrap();
     |                                    ^^^ expected expression

error: expected expression, found keyword `mut`
    --> src/primitives.rs:1752:36
     |
1752 |         let result = prim_sub(&mut mut mut mut mut mut mut mut proc, &globals, &[a, b, c]).unwrap();
     |                                    ^^^ expected expression

error: expected expression, found keyword `mut`
    --> src/primitives.rs:1762:36
     |
1762 |         let result = prim_mul(&mut mut mut mut mut mut mut mut proc, &globals, &[]).unwrap();
     |                                    ^^^ expected expression

error: expected expression, found keyword `mut`
    --> src/primitives.rs:1776:36
     |
1776 |         let result = prim_mul(&mut mut mut mut mut mut mut mut proc, &globals, &[a, b, c, d]).unwrap();
     |                                    ^^^ expected expression

error: expected expression, found keyword `mut`
    --> src/primitives.rs:1788:36
     |
1788 |         let result = prim_div(&mut mut mut mut mut mut mut mut proc, &globals, &[a, b]).unwrap();
     |                                    ^^^ expected expression

error: expected expression, found keyword `mut`
    --> src/primitives.rs:1800:36
     |
1800 |         let result = prim_div(&mut mut mut mut mut mut mut mut proc, &globals, &[a, b]).unwrap();
     |                                    ^^^ expected expression

error: expected expression, found keyword `mut`
    --> src/primitives.rs:1812:36
     |
1812 |         let result = prim_add(&mut mut mut mut mut mut mut mut proc, &globals, &[a, b]).unwrap();
     |                                    ^^^ expected expression

error: expected expression, found keyword `mut`
    --> src/primitives.rs:1825:35
     |
1825 |         let result = prim_lt(&mut mut mut mut mut mut mut mut proc, &globals, &[a, b, c]).unwrap();
     |                                   ^^^ expected expression

error: expected expression, found keyword `mut`
    --> src/primitives.rs:1835:35
     |
1835 |         let result = prim_lt(&mut mut mut mut mut mut mut mut proc, &globals, &[a, b, c]).unwrap();
     |                                   ^^^ expected expression

error: expected expression, found keyword `mut`
    --> src/primitives.rs:1844:39
     |
1844 |         let result = prim_num_eq(&mut mut mut mut mut mut mut mut proc, &globals, &[a, b]).unwrap();
     |                                       ^^^ expected expression

error: expected expression, found keyword `mut`
    --> src/primitives.rs:1853:36
     |
1853 |         let result = prim_mod(&mut mut mut mut mut mut mut mut proc, &globals, &[a, b]).unwrap();
     |                                    ^^^ expected expression

warning: unused import: `Arena`
 --> src/eval.rs:5:20
  |
5 | use crate::arena::{Arena, Node};
  |                    ^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `crate::search::EvalContext`
 --> src/eval.rs:8:5
  |
8 | use crate::search::EvalContext;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::clos::MetaObjectProtocol`
 --> src/eval.rs:9:5
  |
9 | use crate::clos::MetaObjectProtocol;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::conditions::ConditionSystem`
  --> src/eval.rs:10:5
   |
10 | use crate::conditions::ConditionSystem;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::arrays::ArrayStore`
  --> src/eval.rs:11:5
   |
11 | use crate::arrays::ArrayStore;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `StreamId` and `StreamManager`
  --> src/eval.rs:12:22
   |
12 | use crate::streams::{StreamManager, StreamId};
   |                      ^^^^^^^^^^^^^  ^^^^^^^^

warning: unused import: `crate::context::PrimitiveFn`
  --> src/eval.rs:16:5
   |
16 | use crate::context::PrimitiveFn;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::context::GlobalContext`
  --> src/primitives.rs:14:5
   |
14 | use crate::context::GlobalContext;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `ArenaStats`
 --> src/process.rs:1:33
  |
1 | use crate::arena::{Arena, Node, ArenaStats};
  |                                 ^^^^^^^^^^

warning: unused import: `Message`
 --> src/scheduler.rs:1:54
  |
1 | use crate::process::{Process, Pid, Priority, Status, Message, ExecutionResult};
  |                                                      ^^^^^^^

warning: unused import: `crate::arena::Node`
 --> src/scheduler.rs:2:5
  |
2 | use crate::arena::Node; // For now
  |     ^^^^^^^^^^^^^^^^^^

warning: unused import: `OpaqueValue`
 --> src/scheduler.rs:3:28
  |
3 | use crate::types::{NodeId, OpaqueValue};
  |                            ^^^^^^^^^^^

warning: unused import: `Environment`
 --> src/context.rs:4:31
  |
4 | use crate::eval::{EvalResult, Environment, SpecialForms};
  |                               ^^^^^^^^^^^

warning: unused variable: `id`
   --> src/eval.rs:763:45
    |
763 |             Node::Leaf(OpaqueValue::Generic(id)) => {
    |                                             ^^ help: if this is intentional, prefix it with an underscore: `_id`
    |
    = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `ctx`
   --> src/primitives.rs:154:49
    |
154 | fn prim_sub(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, args: &[NodeId]) -> EvalResult {
    |                                                 ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `ctx`
   --> src/primitives.rs:206:49
    |
206 | fn prim_div(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, args: &[NodeId]) -> EvalResult {
    |                                                 ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `ctx`
   --> src/primitives.rs:230:51
    |
230 | fn prim_1plus(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, args: &[NodeId]) -> EvalResult {
    |                                                   ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `ctx`
   --> src/primitives.rs:239:52
    |
239 | fn prim_1minus(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, args: &[NodeId]) -> EvalResult {
    |                                                    ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `ctx`
   --> src/primitives.rs:248:49
    |
248 | fn prim_mod(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, args: &[NodeId]) -> EvalResult {
    |                                                 ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `ctx`
   --> src/primitives.rs:934:71
    |
934 | fn prim_make_string_output_stream(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, _args: &[NodeId]) -> EvalResult {
    |                                                                       ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `ctx`
   --> src/primitives.rs:943:70
    |
943 | fn prim_get_output_stream_string(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, args: &[NodeId]) -> EvalResult {
    |                                                                      ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `ctx`
   --> src/primitives.rs:958:70
    |
958 | fn prim_make_string_input_stream(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, args: &[NodeId]) -> EvalResult {
    |                                                                      ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `ctx`
    --> src/primitives.rs:1017:56
     |
1017 | fn prim_write_char(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, args: &[NodeId]) -> EvalResult {
     |                                                        ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `ctx`
    --> src/primitives.rs:1066:56
     |
1066 | fn prim_find_class(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, args: &[NodeId]) -> EvalResult {
     |                                                        ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `ctx`
    --> src/primitives.rs:1077:59
     |
1077 | fn prim_make_instance(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, args: &[NodeId]) -> EvalResult {
     |                                                           ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `ctx`
    --> src/primitives.rs:1103:54
     |
1103 | fn prim_class_of(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, args: &[NodeId]) -> EvalResult {
     |                                                      ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `ctx`
    --> src/primitives.rs:1121:56
     |
1121 | fn prim_slot_value(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, args: &[NodeId]) -> EvalResult {
     |                                                        ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `ctx`
    --> src/primitives.rs:1149:60
     |
1149 | fn prim_set_slot_value(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, args: &[NodeId]) -> EvalResult {
     |                                                            ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `ctx`
    --> src/primitives.rs:1198:48
     |
1198 | fn prim_gc(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, _args: &[NodeId]) -> EvalResult {
     |                                                ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `ctx`
    --> src/primitives.rs:1227:56
     |
1227 | fn prim_make_array(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, args: &[NodeId]) -> EvalResult {
     |                                                        ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `ctx`
    --> src/primitives.rs:1246:50
     |
1246 | fn prim_aref(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, args: &[NodeId]) -> EvalResult {
     |                                                  ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `ctx`
    --> src/primitives.rs:1272:54
     |
1272 | fn prim_set_aref(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, args: &[NodeId]) -> EvalResult {
     |                                                      ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `ctx`
    --> src/primitives.rs:1605:57
     |
1605 | fn prim_tree_string(proc: &mut crate::process::Process, ctx: &crate::context::GlobalContext, args: &[NodeId]) -> EvalResult {
     |                                                         ^^^ help: if this is intentional, prefix it with an underscore: `_ctx`

warning: unused variable: `c`
   --> src/streams.rs:357:49
    |
357 |     pub fn unread_char(&mut self, id: StreamId, c: char) -> io::Result<()> {
    |                                                 ^ help: if this is intentional, prefix it with an underscore: `_c`

warning: unused variable: `proc`
  --> src/scheduler.rs:93:25
   |
93 |             if let Some(proc) = self.registry.get_mut(&receiver) {
   |                         ^^^^ help: if this is intentional, prefix it with an underscore: `_proc`

warning: unused variable: `sender_proc`
   --> src/scheduler.rs:121:29
    |
121 |                 if let Some(sender_proc) = self.registry.get(&sender) {
    |                             ^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_sender_proc`

warning: `triage-rs` (lib) generated 36 warnings
error: could not compile `triage-rs` (lib) due to 19 previous errors; 36 warnings emitted
